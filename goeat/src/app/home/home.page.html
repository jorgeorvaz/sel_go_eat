<ion-menu content-id="main-content">
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>Go eat now!</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <!--Conexion de inicio de sesion-->
        <ion-item class="login_menu">
          <ion-col>
            <ion-row id="img_user">
              <ion-avatar item-start>
                <img src="./assets/imgs/perfil.png">
              </ion-avatar>
            </ion-row>
            <ion-row>
              
                Bienvenido: {{userEmail}}
              
            </ion-row>
          <ion-button id="boton_logout" color="danger" name="logout" (click)="logout()">Desconectar</ion-button>
        </ion-col>
        </ion-item>
    <!--___________________________________________________________________________________________________________________________________________________________-->
        <ion-list-header>
          Menu
        </ion-list-header>
        <ion-menu-toggle auto-hide="true">
          <ion-item routerLink = "/home" class="active">
            <ion-icon  name='home'></ion-icon>
            <ion-label>
              Inicio
            </ion-label>
          </ion-item>
          <ion-item routerLink="/perfil">
            <ion-icon  name='person-outline'></ion-icon>
            <ion-label>
              Mi perfil
            </ion-label>
          </ion-item>
          <ion-item routerLink = "/contacto">
            <ion-icon  name='call-outline'></ion-icon>
            <ion-label>
              Contacto
            </ion-label>
          </ion-item>
        </ion-menu-toggle>
      </ion-list>
    </ion-content>
  </ion-menu>
  <ion-page class="ion-page" id="main-content">
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-menu-toggle>
            <ion-button>
              <ion-icon slot="icon-only" name="menu"></ion-icon>
            </ion-button>
          </ion-menu-toggle>
        </ion-buttons>
        <ion-title>Go Eat Now</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
  <ion-searchbar placeholder="Pizza Hut" (ionChange)="findPlace($event)" [debounce]="500"></ion-searchbar>
  <ion-row>
    <ion-col size="6">
      <ion-item>
        <ion-input placeholder="Start" [(ngModel)]="start"></ion-input>
      </ion-item>
    </ion-col>
    <ion-col size="6">
      <ion-item>
        <ion-input placeholder="End" [(ngModel)]="end"></ion-input>
      </ion-item>
    </ion-col>
  </ion-row>
  <ion-button expand="full" (click)="getDirections()" [disabled]="start == '' || end == ''">Get directions</ion-button>

  <div *ngIf="direction">
    <ion-card *ngFor="let route of direction.routes; let i = index;">
      <ion-card-header>
        <ion-card-subtitle>{{ route.legs[0].duration.text }}</ion-card-subtitle>
        <ion-card-title>{{ route.legs[0].distance.text }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-button (click)="pickRoute(i)">Pick Route</ion-button>
        <ion-button (click)="openNativeRoute(route)">Show native Route</ion-button>
      </ion-card-content>
    </ion-card>
  </div>

  <div #map id="map"></div>
  <ion-button expand="full" (click)="showNearby()">Show Nearby</ion-button>

  <ion-button expand="full" (click)="startTracking()" color="success" *ngIf="!isTracking">
    <ion-icon name="locate" slot="icon-left"></ion-icon>Start Tracking
  </ion-button>

  <ion-button expand="full" (click)="stopTracking()" color="warning" *ngIf="isTracking">
    <ion-icon name="hand" slot="icon-left"></ion-icon>Stop Tracking
  </ion-button>
  <ion-list *ngFor="let place of places; let i = index">
    <ion-item *ngIf="i < 3">
      <ion-card >
        <ion-card-header>
            <ion-card-title>{{place.name}}</ion-card-title>
          </ion-card-header>
        <ion-card-content>
            Valoracion: {{place.rating}}/5 - 
            Ocupacion: Desconocida
        </ion-card-content>
      </ion-card>
    </ion-item>
  </ion-list>

</ion-content>
  </ion-page>
